{"version":3,"sources":["libs/tsc.ts"],"names":[],"mappings":";;;;;AAAA,yCAAoC;AACpC,qDAA8C;AAC9C,qDAA0D;AAC1D,+BAA4B;AAC5B,oDAA2B;AAC3B,+BAAoD;AAEpD,MAAa,GAAI,SAAQ,iBAAM;IAEpB,OAAO,CACV,GAAY,EAAE,IAAa,EAC3B,QAA4B;QAE5B,IAAI,EAAE,GAA2B,IAAI,CAAC,IAAW,CAAC;QAClD,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE;YAClC,IAAI,CAAC,GAAG,EAAE;gBAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;aAAE;YACxD,EAAE,GAAG,UAAM,CAAC,GAAG,CAAC,CAAC;SACpB;QACD,MAAM,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,sBAAI,EAAE,CAAC,CAAC,IAAI,CAC5B,+BAAa,CACT,QAAQ,IAAI,WAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,eAAe,CAAQ,CAC1D,EAAE,CACN,CAAC;QAEF,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE;YACnC,IAAI,CAAC,IAAI,EAAE;gBAAE,MAAM,IAAI,KAAK,CAAC,sBAAsB,CAAC,CAAC;aAAE;YACvD,OAAO,gBAAK,CAAC;gBACT,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,WAAK,CAAC,IAAI,CAAC,CAAC;gBACzB,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,uBAAK,CAAC,cAAc,CAAC,CAAC,CAAC,IAAI,CAAC,WAAK,CAAC,IAAI,CAAC,CAAC;aACvD,CAAC,CAAC;SACN;QACD,OAAO,gBAAK,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;IACpC,CAAC;CACJ;AA1BD,kBA0BC","file":"../../libs/tsc.js","sourcesContent":["import { GyiLib } from './gyi.libs';\nimport { init, write } from 'gulp-sourcemaps';\nimport { createProject, Settings } from 'gulp-typescript';\nimport { join } from 'path';\nimport merge from 'merge2';\nimport { src as source, dest as destf } from 'gulp';\n\nexport class TSC extends GyiLib {\n\n    public runtime(\n        src?: string, dest?: string,\n        tsconfig?: string | Settings\n    ) {\n        let gp: NodeJS.ReadWriteStream = this.gulp as any;\n        if (!this.option || !this.option.src) {\n            if (!src) { throw new Error(`Not have source path .`); }\n            gp = source(src);\n        }\n        const tsr = gp.pipe(init()).pipe(\n            createProject(\n                tsconfig || join(process.cwd(), 'tsconfig.json') as any\n            )()\n        );\n\n        if (!this.option || !this.option.dest) {\n            if (!dest) { throw new Error(`Not have dest path .`); }\n            return merge([\n                tsr.dts.pipe(destf(dest)),\n                tsr.js.pipe(write('./sourcemaps')).pipe(destf(dest)),\n            ]);\n        }\n        return merge([tsr.dts, tsr.js]);\n    }\n}\n"]}